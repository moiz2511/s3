"use strict";var fs=require("fs"),path=require("path"),environment=require("Environment"),_=require("underscore"),getPfxPaths=function(t){var e=environment.certificatesPath,r=/\.pfx$/i;fs.readdir(e,function(i,n){if(i)t(i);else{var f=_.chain(n).filter(function(t){return r.test(t)}).map(function(t){return path.join(e,t)}).value();t(i,f)}})},getPfxPassword=function(){var t=environment.certificatesPfxPwd,e=_.reduce(t,function(t,e){return t+String.fromCharCode(e)},"");return e},installPdfCertificates=function(t,e){getPfxPaths(function(r,i){if(!r){var n=getPfxPassword();_.each(i,function(e){t.installPdfCertificate(e,n)})}e(r)})};exports.installPdfCertificates=installPdfCertificates;