"use strict";var _=require("underscore"),async=require("async"),TriggerTemplateDataProvider=function(e,r){this._app=e,this._dbManager=r},_transformIdFields=function(e){return e.boxTriggerTemplateId=e.localId,e.triggerTemplateId=e.id,_.omit(e,"localId","id")};TriggerTemplateDataProvider.prototype.addNewTriggerTemplate=function(e,r){var t=this;t._dbManager.addData("TriggerTemplate",e,function(e,a){return e?void r(e):(t._dbManager.startQuickSync(),void r(void 0,_transformIdFields(a)))})},TriggerTemplateDataProvider.prototype.getTriggerTemplateList=function(e){var r=this;r._dbManager.getDataByQuery("TriggerTemplate",{},function(r,t){if(r)return void e({err:r});var a=_.map(t,function(e){return{triggerId:e.localId,name:e.name}});e(r,a)})},TriggerTemplateDataProvider.prototype.getTriggerTemplate=function(e,r){var t=this;t._dbManager.getDataById("TriggerTemplate",e,r)},TriggerTemplateDataProvider.prototype.deleteTriggerTemplate=function(e,r){var t=this;t._dbManager.deleteData("TriggerTemplate",e,r)},module.exports=TriggerTemplateDataProvider;