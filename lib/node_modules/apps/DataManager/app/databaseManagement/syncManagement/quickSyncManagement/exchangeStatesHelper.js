"use strict";function returnFormattedMessageToServer(e,r,t,n){e.getSessionChanges(t,function(e,t){if(e)return void n(e);var o={};async.eachSeries(r,function(e,r){var n=_.where(t,{type:e.getType()});e.formatUploadBoxStateMessage(n,function(e,t){return e?void r(e):(o=_.extend(o,t),void r())})},function(e){n(e,o)})})}var _=require("underscore"),async=require("async");exports.returnFormattedMessageToServer=returnFormattedMessageToServer;