"use strict";function PayloadStream(e,t){events.EventEmitter.call(this),this.id=e,this.filename=void 0,this.fileSizeKB=t,this.progress=0,this.complete=!1}var events=require("events"),util=require("util"),_=require("underscore");util.inherits(PayloadStream,events.EventEmitter),Object.defineProperty(PayloadStream.prototype,"percentComplete",{get:function(){return 0===this.progress?0:this.progress>=this.fileSizeKB?100:this.fileSizeKB?Math.floor(this.progress/this.fileSizeKB*100):void 0},enumerable:!0}),PayloadStream.prototype.onProgress=function(e){this.progress=e,this.emit("progress",this)},PayloadStream.prototype.getProgressData=function(){return{id:this.id,filename:this.filename,fileSizeKB:this.fileSizeKB,progress:this.progress,percentComplete:this.percentComplete}},module.exports=PayloadStream;