"use strict";function PdxPayload(e){this.isMatch=isMatch,this.postProcess=postProcess,this.filePath=environment.payloadDownloadDestination||e.Files.PdxFileFolder||e.Files.PayloadFolderSN,this.filename,this.userId,this.query,this.postProcessMetaData={}}function isMatch(e){var i=path.extname(e);return!!i&&".PDX"===i.toUpperCase()}function postProcess(e,i,t,o){var r=this.query.controller+"_"+this.query.componentSerialNo+".pdx",s=path.join(this.filePath,this.filename),a=path.join(this.filePath,r);fs.rename(s,a,function(t){return t?(FileUtility.deleteDirectoryOrFile(s,_.noop),void e(t)):(e(),void i.info("Successfully updated PDX payload filename: ",r))})}var path=require("path"),fs=require("fs"),_=require("underscore"),environment=require("Environment"),FileUtility=require("FileUtility");module.exports=PdxPayload;