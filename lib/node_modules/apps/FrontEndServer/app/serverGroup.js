var _=require("underscore"),async=require("async"),ServerManager=require("./ServerManager").ServerManager,createServerGroup=function(r){var e=_.map(r,function(r){return new ServerManager(r)});return e.listen=function(e,n){if(_.isEmpty(r)||_.isEmpty(e))return void n(new Error("missing servers or configuration data"),[]);var i=_.zip(r,e);async.map(i,function(r,e){var n=r[0],i=r[1];n.listen(i.port,i.ip,function(r){e(void 0,r)})},function(r,e){n(void 0,e)})},e.close=function(r,n){async.each(e,function(e,n){e.once("close",function(){n()}),e.close(r)},function(){n()})},e};exports.createServerGroup=createServerGroup;