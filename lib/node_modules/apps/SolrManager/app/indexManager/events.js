!function(){"use strict";function e(e,a){var d=new o(e,a),c=function(e){switch(e){case"manuals":return"Manuals";case"dtac":return"Solutions";default:return""}},i=function(o,t){return r.throttle(function(r){e.queue(n.mergeProgress,{progress:r,requestId:o},t)},250,{trailing:!1})};e.on(n.mergeCompressedIndex,function(e,r,o){var n=c(e.coreType);d.mergeCompressedIndex(e.filePath,n,i(e.requestId,o.from),function(e){return e?void r(t.encodeErrorObject(e)):void d.reloadCore(n,r)})}),e.on("solrManager:mergeIndex",function(e,r,o){var n=c(e.coreType);d.mergeIndex(e.filePath,n,e.isPartialIndex,e.dataId,i(e.requestId,o.from),function(e){return e?void r(t.encodeErrorObject(e)):void d.reloadCore(n,r)})}),e.on("solrManager:mergePartialIndex",function(e,r){d.mergePartialIndex(e.filePath,e.coreType,e.dataId,e.useSoftCommit,function(e){var o;e&&(o=t.encodeErrorObject(e)),r(o)})}),e.on("solrManager:reloadCore",function(e,r){d.reloadCore(e.coreType,r)}),e.on("solrManager:deleteIndex",function(e,r){d.deleteIndex(e.deletedBooks,e.coreType,r)}),e.on("solrManager:createJobsIndex",function(e,r){d.createJobsIndex(r)}),e.on("solrManager:clearIndexes",function(e,r){d.clearIndexes(r)})}var r=require("underscore"),o=(require("child_process").exec,require("./solrIndexManager.js")),n=require("Protocol"),t=require("ErrorUtility");module.exports=e}();