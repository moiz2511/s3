!function(){"use strict";var e,t=require("underscore"),o=function(e){this.collection=e.database.collection("BoxAlerts")};o.prototype.getBoxAlerts=function(e){this.collection.find({}).toArray(function(t,o){e(t,o||[])})},o.prototype.saveBoxAlert=function(e,t){this.collection.insert(e,t)},o.prototype.deleteBoxAlert=function(e,t){this.collection.remove({alertReferenceId:e},t)},o.prototype.setBoxAlertAsDelivered=function(e,t){this.collection.update({alertReferenceId:e},{$set:{isDelivered:!0}},function(e){t(e)})},module.exports=function(n){return e=t.isObject(e)?e:new o(n)}}();