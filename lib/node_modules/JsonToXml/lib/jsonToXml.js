"use strict";var xmlBuilder=require("xmlbuilder"),_=require("underscore"),createParent=function(e,r){if(r)return r;if(e)return xmlBuilder.create(e).com(e+" XML")},convertArrayInternal=function(e,r,t){e&&(_.isEmpty(e)&&t.com("Empty Array"),_.each(e,function(e){_.isArray(e)?convertArrayInternal(e,r+"-item",t.ele(r+"-item")):_.isObject(e)?convertObjectInternal(e,void 0,t.ele(r+"-item")):t.ele(r+"-item",e)}))},convertObjectInternal=function(e,r,t){e&&(_.isDate(e)&&t.text(e.toString()),_.each(e,function(e,r){_.isArray(e)?convertArrayInternal(e,r,t.ele(r)):_.isObject(e)?convertObjectInternal(e,void 0,t.ele(r)):_.isNull(e)?t.com(r+" Is Null"):_.isUndefined(e)?t.com(r+" Is Undefined"):t.ele(r,e)}))},convertArray=function(e,r,t){try{JSON.stringify(e)}catch(e){return}if(t=createParent(r,t),t&&e)return convertArrayInternal(e,r,t),t},convertObject=function(e,r,t){try{JSON.stringify(e)}catch(e){return}if(t=createParent(r,t),t&&e)return convertObjectInternal(e,r,t),t};exports.convertArray=convertArray,exports.convertObject=convertObject;